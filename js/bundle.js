"use strict";var ngApp=angular.module("myApp",["ngRoute","ngAnimate","ngCookies","satellizer"]);ngApp.constant("CONFIG",{apiEndpoint:"https://574b12c3.ngrok.io"}),ngApp.config(["CONFIG","$authProvider",function(t,n){n.baseUrl=t.apiEndpoint,n.loginUrl="/login"}]),ngApp.config(["$routeProvider",function(t){t.when("/",{controller:"PageOneController",templateUrl:"ng-templates/musictrack_page1.html"}).when("/genres",{controller:"PageTwoController",templateUrl:"ng-templates/musictrack_page2.html"}).otherwise({redirectTo:"/"})}]),ngApp.controller("LoadingController",["$scope",function(t){t.$on("$viewContentLoaded",function(){hideLoading()})}]),ngApp.directive("starRating",function(){return{scope:{rating:"=",maxRating:"@",readOnly:"@",click:"&",mouseHover:"&",mouseLeave:"&"},restrict:"EA",template:"<div style='display: inline; margin: 1px; padding-bottom: 15px; cursor:pointer;' ng-repeat='idx in maxRatings track by $index'>                     <img ng-src='{{((hoverValue + _rating) <= $index) && \"http://www.codeproject.com/script/ratings/images/star-empty-lg.png\" || \"http://www.codeproject.com/script/ratings/images/star-fill-lg.png\"}}'                     ng-Click='isolatedClick($index + 1)'                     ng-mouseenter='isolatedMouseHover($index + 1)'                     ng-mouseleave='isolatedMouseLeave($index + 1)'></img>             </div>",compile:function(t,n){(!n.maxRating||Number(n.maxRating)<=0)&&(n.maxRating="5")},controller:["$scope","$element","$attrs",function(t,n,e){t.maxRatings=[];for(var o=1;o<=t.maxRating;o++)t.maxRatings.push({});t._rating=t.rating}]}}),angular.element(document).ready(function(){angular.bootstrap(document,["myApp"])}),ngApp.factory("AJAXService",["$http",function(t){var n={},e=function(t){return{success:!1,status:t}};return n.getTredingSubReddits=function(){return t({method:"GET",url:"https://www.reddit.com/r/trending_subreddits.json"}).then(function(t){return console.warn(t),{success:!0,data:t.data}},function(t){return console.warn(t),e(t.status)})},n}]),ngApp.directive("backgroundImage",function(){return function(t,n,e){var o=e.backImg;n.css({background:"url("+o+") no-repeat"})}}),ngApp.directive("setWidthPercent",function(){return function(t,n,e){var o=e.setWidthPercent;n.css({width:o+"%"})}}),ngApp.controller("PageOneController",["CONFIG","$scope","$location","$window","$http",function(t,n,e,o,a){console.log("My Application"),n.filterParams={active:!1,searchText:null};var r=[],i=[];n.starRating1=4,n.starRating2=5,n.starRating3=2,n.hoverRating1=n.hoverRating2=n.hoverRating3=0,n.click1=function(t){console.log("Click("+t+")")},n.mouseHover1=function(t){console.log("mouseHover("+t+")"),n.hoverRating1=t},n.mouseLeave1=function(t){console.log("mouseLeave("+t+")"),n.hoverRating1=t+"*"},n.click2=function(t){console.log("Click")},n.mouseHover2=function(t){console.log("mouseHover("+t+")"),n.hoverRating1=t},n.mouseLeave2=function(t){console.log("mouseLeave("+t+")"),n.hoverRating2=t+"*"},n.click3=function(t){console.log("Click")},n.mouseHover3=function(t){console.log("mouseHover("+t+")"),n.hoverRating3=t},n.mouseLeave3=function(t){console.log("mouseLeave("+t+")"),n.hoverRating3=t+"*"},a({method:"GET",url:"http://104.197.128.152:8000/v1/tracks"}).then(function(t){console.log("GET ALL TRACKS",t.data),n.trackList=t.data.results,i=angular.copy(n.trackList)},function(t){}),a({method:"GET",url:"http://104.197.128.152:8000/v1/tracks?title=tack1"}).then(function(t){console.log("SEARCH WITH TRACK",t)},function(t){console.log(t)}),a({method:"GET",url:"http://104.197.128.152:8000/v1/tracks?title=Hymn%20for%20the%20weekend"}).then(function(t){console.log("SEARCH",t)},function(t){console.log(t)}),a({method:"POST",url:"http://104.197.128.152:8000/v1/tracks/48",data:{id:1,title:"animals",rating:4.5,genres:[1]}}).then(function(t){console.log("EDIT",t)},function(t){console.log(t)}),n.findMusic=function(){n.filterParams.active=!0,n.trackList=angular.copy(i),""==n.filterParams.searchText&&n.trackList.forEach(function(t,n){r[n]=t}),n.filterParams.searchText&&(r=n.trackList.filter(function(t,e){if(t.title.search(new RegExp(n.filterParams.searchText,"i"))>-1)return t})),n.trackList=r.filter(function(t,n,e){return e.indexOf(t)==n})},n.resetFilter=function(){n.filterParams.active=!1,n.filterParams.searchText=null,n.trackList=angular.copy(i)},n.addNewTrack=function(){a({method:"POST",url:"http://104.197.128.152:8000/v1/tracks",data:{title:"animals",rating:4.5,genres:[1]}}).then(function(t){console.log("Created Record",t),n.trackList.push(t.data),i=angular.copy(n.trackList),n.trackList=angular.copy(i)},function(t){console.log(t)})},n.goToGenrePage=function(){alert("go to genre page"),e.path("/page2")}}]),ngApp.controller("PageTwoController",["CONFIG","$scope","$location","$window","$http",function(t,n,e,o,a){var r=[];a({method:"GET",url:"http://104.197.128.152:8000/v1/genres"}).then(function(t){console.log("ALL GENRES",t.data),n.trackList=t.data.results,r=angular.copy(n.trackList)},function(t){console.log(t)}),a({method:"GET",url:"http://104.197.128.152:8000/v1/genres/12"}).then(function(t){console.log("SINGLE GENRE",t.data)},function(t){console.log(t)}),a({method:"POST",url:"http://104.197.128.152:8000/v1/genres/12",data:{id:11,name:"bollywood"}}).then(function(t){console.log("EDIT GENRE RECORD",t.data)},function(t){console.log(t)}),n.addNewGenre=function(){a({method:"POST",url:"http://104.197.128.152:8000/v1/genres",data:{name:"bollywood"}}).then(function(t){console.log(t.data),n.trackList.push(t.data),r=angular.copy(n.trackList),n.trackList=angular.copy(r)},function(t){console.log(t)})}}]);